<template>
    <lightning-card title="Wire Decorator Example">
        <div class="slds-p-horizontal_small">
            <!-- SEARCH -->
            <lightning-input
                name="enter-search"
                label="Search Contact"
                type="search"
                onchange={handleSearchInput}
            ></lightning-input>

            <!-- CONTACTS DETAILS-->
            <!-- Since here we are dealing with more than one records, 
                that is the case where we have to template for each.-->
            <template for:each={contacts} for:item="contact">
                <lightning-layout key={contact.id}>
                    <lightning-layout-item padding="around-small" size="2">
                        <div class="header-column">
                            <p class="field-title" title="Field 1">Name</p>
                            <p><lightning-formatted-name
                                    first-name={contact.FirstName}
                                    last-name={contact.LastName}
                                ></lightning-formatted-name>
                            </p>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item padding="around-small" size="2">
                        <div class="header-column">
                            <p class="field-title" title="Field2 (3)">Phone</p>
                            <p>
                                <lightning-formatted-phone 
                                    value={contact.Phone} 
                                ></lightning-formatted-phone>
                            </p>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item padding="around-small" size="3">
                        <div class="header-column">
                            <p class="field-title" title="Field 3">Email</p>
                            <p>
                                <lightning-formatted-email value={contact.Email} ></lightning-formatted-email>
                            </p>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item padding="around-small" size="2">
                        <div class="header-column">
                            <p class="field-title" title="Field2 (3)">Status</p>
                            <p>
                                <lightning-formatted-text 
                                    value={contact.Status__c} 
                                ></lightning-formatted-text>
                            </p>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item padding="around-small" size="3">
                        <div class="header-column">
                            <p class="field-title" title="Field2 (3)">Action</p>
                            <div>
                                <lightning-button 
                                    variant="destructive" 
                                    label="Rejected" title="Rejected" 
                                    onclick={handleRejection} class="slds-m-left_x-small"
                                    data-id={contact.Id}
                                ></lightning-button>

                                <lightning-button 
                                    variant="success" 
                                    label="Approved" 
                                    title="Approved" 
                                    onclick={handleApproval} class="slds-m-left_x-small"
                                    data-id={contact.Id}
                                ></lightning-button>

                            </div>
                        </div>
                    </lightning-layout-item>
                </lightning-layout>
            </template>
        </div>
        <div slot="footer">Card Footer</div>
    </lightning-card>
</template>